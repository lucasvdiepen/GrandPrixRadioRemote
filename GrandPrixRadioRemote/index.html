<!DOCTYPE>
<html>
	<head>
		<title>Grand Prix Radio Remote</title>
		<script type="text/javascript">
			function SubmitTime() {
				let timeValue = document.getElementById("timeInput").value;
				if(!timeValue) return;
				
				document.getElementById("timeInput").value = "";

				PostData("/timechange", { time: timeValue });
			}

			function PostData(url, data) {
                var xhr = new XMLHttpRequest();
				xhr.open("POST", url, true);
				if (data) {
                    xhr.setRequestHeader('Content-Type', 'application/json');
                    xhr.send(JSON.stringify(data));
					return;
                }

                xhr.send();
			}

			function VolumeChanged(value) {
				document.getElementById("volumeText").innerHTML = Math.floor(value * 100);

				PostData("/volume", { volume: value });
            }
		</script>
	</head>
	<body>
		<h2>Grand Prix Radio Remote</h2>
		<input type="button" value="Reload" onclick="PostData('/reload');">
		<br /><br />
		<input type="button" value="Grand Prix Radio" onclick="PostData('/changestation', {id: 0});">
		<input type="button" value="Grand Prix Radio Classics" onclick="PostData('/changestation', {id: 1});">
		<input type="button" value="Grand Prix Radio Dance hits" onclick="PostData('/changestation', {id: 2});">
		<br /><br />
		<input type="button" value="Play" onclick="PostData('/play');">
		<input type="button" value="Pause" onclick="PostData('/pause');">
		<br /><br />
		<input type="button" value="<< 0.5 Sec" onclick="PostData('/timebackward');">
		<input type="button" value="0.5 Sec >>" onclick="PostData('/timeforward');">
		<br /><br />
		<label for="fname">Time: </label>
		<input type="text" id="timeInput"><br><br>
		<input type="button" value="Submit" onclick="SubmitTime();">
		<br /><br />
		<p>Audio:</p>
		<input type="button" value="Mute" onclick="PostData('/mute');">
		<input type="button" value="Unmute" onclick="PostData('/unmute');">
		<br /><br />
		<label>Volume: </label>
		<input type="range" min="0" max="1" step="0.05" oninput="VolumeChanged(this.value)" />
		<label id="volumeText">50</label>
	</body>
</html>